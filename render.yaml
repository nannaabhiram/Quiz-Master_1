services:
  - type: web
    name: quize-master-api
    env: node
    rootDir: .
    plan: free
    autoDeploy: true
    buildCommand: npm install
    startCommand: npm run start
    envVars:
      - key: NODE_VERSION
        value: 20
      # IMPORTANT: Provide this securely in Render Dashboard after creating the service,
      # or uncomment `value` below to inline it (not recommended for public repos).
      - key: MONGO_URI
        sync: false

  - type: web
    name: quize-master-frontend
    env: node
    rootDir: client
    plan: free
    autoDeploy: true
    buildCommand: npm install && npm run build
    startCommand: npm run start
    envVars:
      - key: NODE_VERSION
        value: 20
      # This dynamically points the frontend to the backend's public URL
      - key: API_BASE
        fromService:
          name: quize-master-api
          type: url
